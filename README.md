# ğŸ  DLD Unit Finder

**Property Finder Link â†’ Unit Number & Full DLD Data** | Ù…Ø¬Ø§Ù†ÙŠ 100%

ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨ Ø¨ÙŠØ¬ÙŠØ¨ Ø±Ù‚Ù… Ø§Ù„ÙˆØ­Ø¯Ø© ÙˆÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ ÙˆØ§Ù„Ø£Ù…Ù„Ø§Ùƒ Ø¨Ø¯Ø¨ÙŠ Ù…Ù† Ù„ÙŠÙ†Ùƒ Property Finder.

---

## âœ¨ Features / Ø§Ù„Ù…ÙŠØ²Ø§Øª

- ğŸ”— **Ø­Ø·Ù‘ Ù„ÙŠÙ†Ùƒ Property Finder** â†’ Ø¨ÙŠØ·Ù„Ø¹Ù„Ùƒ Ø§Ù„Ù€ Unit Number + ÙƒÙ„ Ø§Ù„Ø¯Ø§ØªØ§
- ğŸ“Š **46 Ø¹Ù…ÙˆØ¯ Ù…Ù† DLD** â€” ÙƒÙ„Ù‡Ø§ Ù…Ø­ÙÙˆØ¸Ø©ØŒ ÙˆÙ„Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø© Ø¨ØªØ±ÙˆØ­ (zero data loss)
- ğŸ”„ **ÙƒØ¨Ø³Ø© Update Now** Ø¨Ø§Ù„Ù€ sidebar â€” ØªØ­Ø¯ÙŠØ« ÙŠØ¯ÙˆÙŠ Ø¨Ø£ÙŠ ÙˆÙ‚Øª
- â° **ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹** Ø¹Ø¨Ø± GitHub Actions
- ğŸ“± **Ø¨ÙŠØ´ØªØºÙ„ Ø¹Ù„Ù‰ Ø£ÙŠ Ø¬Ù‡Ø§Ø²** â€” Ù…ÙˆØ¨Ø§ÙŠÙ„ØŒ ØªØ§Ø¨Ù„ØªØŒ Ù„Ø§Ø¨ØªÙˆØ¨
- ğŸ†“ **Ù…Ø¬Ø§Ù†ÙŠ 100%** â€” ÙˆÙ„Ø§ Ø³Ù†Øª

---

## ğŸ—ï¸ Architecture / Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Streamlit App   â”‚â”€â”€â”€â”€â–¶â”‚ Property     â”‚     â”‚ Dubai Pulse  â”‚
â”‚  (FREE)          â”‚     â”‚ Finder       â”‚     â”‚ (DLD Open    â”‚
â”‚                  â”‚     â”‚ Scraping     â”‚     â”‚  Data - CSV) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                           â”‚
         â”‚  reads SQLite                    weekly    â”‚
         â”‚  + manual update btn             download  â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Google Drive â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ GitHub Actionsâ”‚
    â”‚ (SQLite DB)  â”‚     auto-upload          â”‚ (FREE cron)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Integrity / Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

Ø§Ù„Ù€ converter Ø¨ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ **ÙƒÙ„** Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:

| Aspect | Detail |
|--------|--------|
| Columns | **All 46** columns from DLD CSV (dynamically detected) |
| Storage | All values stored as TEXT â€” no type casting = no data loss |
| Verification | Automatic row/column count verification after conversion |
| Metadata | JSON metadata file with full audit trail |
| Indexes | 17 indexes for fast search |

Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙŠÙ„Ù‘ÙŠ Ø¨ØªÙ†Ø­ÙØ¸ ØªØ´Ù…Ù„:
`unit_number`, `land_number`, `land_sub_number`, `building_number`, `floor`, `rooms`, `actual_area`, `common_area`, `actual_common_area`, `unit_balcony_area`, `unit_parking_number`, `parking_allocation_type`, `property_type`, `property_sub_type`, `project_name` (EN+AR), `master_project` (EN+AR), `area_name` (EN+AR), `zone_id`, `area_id`, `property_id`, `parent_property_id`, `grandparent_property_id`, `is_free_hold`, `is_lease_hold`, `is_registered`, `pre_registration_number`, `munc_number`, `munc_zip_code`, `parcel_id`, `land_type`, `creation_date`, etc.

---

## ğŸ“‹ Setup Guide / Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ±ÙƒÙŠØ¨

### Step 1: Google Cloud Service Account (Ù…Ø±Ø© ÙˆØ­Ø¯Ø© Ø¨Ø³)

1. Ø±ÙˆØ­ Ø¹Ù„Ù‰ [Google Cloud Console](https://console.cloud.google.com/)
2. Ø£Ù†Ø´Ø¦ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ (Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯)
3. ÙØ¹Ù‘Ù„ **Google Drive API**:
   - Navigation Menu â†’ APIs & Services â†’ Library
   - Ø§Ø¨Ø­Ø« Ø¹Ù† "Google Drive API" â†’ Enable
4. Ø£Ù†Ø´Ø¦ Service Account:
   - APIs & Services â†’ Credentials â†’ Create Credentials â†’ Service Account
   - Ø³Ù…Ù‘ÙŠÙ‡ `dld-updater`
   - Keys â†’ Add Key â†’ JSON â†’ Download
5. Ø£Ù†Ø´Ø¦ Ù…Ø¬Ù„Ø¯ Ø¹Ù„Ù‰ Google Drive Ø§Ø³Ù…Ù‡ `DLD-Data`
6. Ø´Ø§Ø±Ùƒ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ù…Ø¹ Ø§Ù„Ù€ service account email (Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„Ù€ JSON)
   - Ù…Ø«Ù„Ø§Ù‹: `dld-updater@project-id.iam.gserviceaccount.com`
   - ØµÙ„Ø§Ø­ÙŠØ© **Editor**
7. Ø§Ù†Ø³Ø® Ø§Ù„Ù€ **Folder ID** Ù…Ù† URL Ø§Ù„Ù…Ø¬Ù„Ø¯

### Step 2: GitHub Repository

```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/YOUR_USERNAME/dld-unit-finder.git
git push -u origin main
```

Ø£Ø¶Ù Ø§Ù„Ù€ Secrets:
- Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret
- **`GOOGLE_CREDENTIALS_JSON`**: Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù€ JSON file ÙƒØ§Ù…Ù„
- **`GDRIVE_FOLDER_ID`**: Ø§Ù„Ù€ Folder ID

### Step 3: First Run

1. Actions tab â†’ "Weekly DLD Data Update" â†’ **Run workflow**
2. Ø§Ù†ØªØ¸Ø± ~10-15 Ø¯Ù‚ÙŠÙ‚Ø©
3. ØªØ£ÙƒØ¯ Ø¥Ù†Ùˆ `dld_units.db` + `db_metadata.json` Ø·Ù„Ø¹ÙˆØ§ Ø¹Ù„Ù‰ Google Drive
4. Ø§Ù†Ø³Ø® Ø§Ù„Ù€ **File ID** Ù„Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ³ Ù…Ù† Google Drive

### Step 4: Deploy Streamlit App

1. [share.streamlit.io](https://share.streamlit.io/) â†’ Ø³Ø¬Ù‘Ù„ Ø¨Ù€ GitHub
2. New app â†’ Ø§Ø®ØªØ§Ø± Ø§Ù„Ù€ repo â†’ Main file: `app.py`
3. **Advanced Settings** â†’ Secrets:
   ```toml
   GDRIVE_FILE_ID = "YOUR_FILE_ID_HERE"
   ```
4. Deploy! ğŸš€

### Step 5: Ø§Ø³ØªØ®Ø¯Ø§Ù…

- Ø§ÙØªØ­ Ø§Ù„Ù€ app link Ù…Ù† Ø£ÙŠ Ø¬Ù‡Ø§Ø²
- Ø­Ø·Ù‘ Ù„ÙŠÙ†Ùƒ Property Finder â†’ Ø§Ø¶ØºØ· Search
- Ø¨Ø¯Ùƒ ØªØ­Ø¯Ù‘Ø« Ø§Ù„Ø¯Ø§ØªØ§ØŸ Ø§Ø¶ØºØ· **ğŸ”„ Update Now** Ø¨Ø§Ù„Ù€ sidebar
- Ø§Ù„Ø¯Ø§ØªØ§ Ø¨ØªØªØ­Ø¯Ø« ÙƒÙ…Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ ÙŠÙˆÙ… Ø£Ø­Ø¯

---

## ğŸ”§ Local Development

```bash
pip install -r requirements.txt

# Download + convert (first time)
python convert_csv_to_db.py

# Verify data integrity
python convert_csv_to_db.py --verify

# Use local CSV
python convert_csv_to_db.py --csv /path/to/units.csv

# Convert + upload to Google Drive
python convert_csv_to_db.py --upload

# Run app
streamlit run app.py
```

## ğŸ†“ Cost

| Service | Cost |
|---------|------|
| Dubai Pulse Data | FREE |
| GitHub Actions | FREE (2000 min/month) |
| Streamlit Cloud | FREE |
| Google Drive | FREE (15GB) |
| Google Cloud Service Account | FREE |
| **Total** | **$0/month** |

## ğŸ“ Files

```
dld-unit-finder/
â”œâ”€â”€ app.py                          # Streamlit app (search + manual update btn)
â”œâ”€â”€ convert_csv_to_db.py            # CSV â†’ SQLite (zero data loss + verification)
â”œâ”€â”€ requirements.txt                # Dependencies
â”œâ”€â”€ README.md                       # This file
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .streamlit/
â”‚   â”œâ”€â”€ config.toml                 # Streamlit theme
â”‚   â””â”€â”€ secrets.toml.example        # Secrets template
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ update_data.yml         # Weekly auto-update
```

## âš ï¸ Limitations

1. **Owner Info**: Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ù„Ùƒ ÙˆØ±Ù‚Ù… ØªÙ„ÙÙˆÙ†Ù‡ Ù…Ø´ Ø¨Ø§Ù„Ù€ open data (Ù…Ø­Ù…ÙŠØ© Ù‚Ø§Ù†ÙˆÙ†ÙŠØ§Ù‹)
2. **Off-plan**: Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ø§ Ø§Ù†Ø¨Ù†Øª Ù…Ù…ÙƒÙ† Ù…Ø§ ØªÙƒÙˆÙ† Ù…Ø³Ø¬Ù‘Ù„Ø© Ø¨Ø¹Ø¯
3. **Matching**: Ø¨ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ â€” Ù…Ù…ÙƒÙ† ÙŠØ·Ù„Ø¹ Ø£ÙƒØªØ± Ù…Ù† Ù†ØªÙŠØ¬Ø©

## ğŸ”’ For Personal Use Only

Uses publicly available government open data from Dubai Land Department via Dubai Pulse.
